<!DOCTYPE html>
<html lang='en'>
<meta charset='utf-8'>
<meta name='viewport' content='width=device-width, initial-scale=1'>
<link rel='icon' href='data:image/svg+xml,<svg xmlns=%22http://www.w3.org/2000/svg%22 viewBox=%220 0 10 10%22><text y=%221em%22 font-size=%228%22>‚òï</text></svg>'>
<style>{{ stylesCSS }}</style>
<script type='module'>{{ baselineJS }}</script>
<script type='module' src='/files/static/site_json.js'></script>
<script type='module' src='/files/static/codemirror.js'></script>
<title>site.json (Site Settings)</title>
<body class='centered-body'>
<nav class='mv2 bg-dark-cyan white flex flex-wrap items-center'>
  <a href='/files/' class='ma2 white'>üñãÔ∏è‚òï notebrew</a>
  &bull;
  <a href='{{ $.ContentSite }}' class='ma2 white'>{{ if hasPrefix $.ContentSite "https://" }}{{ trimPrefix $.ContentSite "https://" }}{{ else }}{{ trimPrefix $.ContentSite "http://" }}{{ end }}</a>
  <span class='flex-grow-1'></span>
  {{- if $.Username.Valid }}
  <a href='' class='ma2'>{{ if $.Username.String }}@{{ $.Username.String }}{{ else }}user{{ end }}</a>
  <a href='/users/logout/' class='ma2'>logout</a>
  {{- end }}
</nav>
<form method='post' action='/{{ join "files" $.SitePrefix "site.json" }}' class='mv2'>
  {{- if referer }}
  <div><a href='{{ referer }}' data-go-back>&larr; back</a></div>
  {{- else }}
  <div><a href='/{{ join "files" $.SitePrefix }}{{ if not (contains $.SitePrefix ".") }}/{{ end }}'>&larr; back</a></div>
  {{- end }}
  <h1 class='f3 mv3 b'>site.json (Site Settings)</h1>
  <div class='mv3'>
    <div><label for='title' class='b'>Title:</label></div>
    <input id='title' name='title' value='{{ $.Title }}' class='pv1 ph2 br2 ba w-100{{ if index $.FormErrors "title" }} b--invalid-red{{ end }}' required>
    <ul class='list-style-disc ph3 f6 invalid-red'>
      {{- range $error := index $.FormErrors "title" }}
      <li>{{ $error }}</li>
      {{- end }}
    </ul>
  </div>
  <div class='mv3'>
    <div><label for='emoji' class='b'>Emoji (optional):</label></div>
    <input id='emoji' name='emoji' value='{{ $.Emoji }}' class='pv1 ph2 br2 ba w-100{{ if index $.FormErrors "emoji" }} b--invalid-red{{ end }}'>
    <ul class='list-style-disc ph3 f6 invalid-red'>
      {{- range $error := index $.FormErrors "emoji" }}
      <li>{{ $error }}</li>
      {{- end }}
    </ul>
  </div>
  <div class='mv3'>
    <div><label for='favicon' class='b'>Favicon (optional):</label></div>
    <input id='favicon' name='favicon' value='{{ $.Favicon }}' class='pv1 ph2 br2 ba w-100{{ if index $.FormErrors "favicon" }} b--invalid-red{{ end }}'>
    <ul class='list-style-disc ph3 f6 invalid-red'>
      {{- range $error := index $.FormErrors "favicon" }}
      <li>{{ $error }}</li>
      {{- end }}
    </ul>
  </div>
  <div class='mv3'>
    <div><label for='codeStyle' class='b'>Code Style (<a href='https://xyproto.github.io/splash/docs/all.html'>Chroma Style Gallery</a>):</label></div>
    <select id='codeStyle' name='codeStyle' class='br2'>
      {{- range $codeStyle, $true := chromaStyles }}
      <option value='{{ $codeStyle }}'{{ if eq $.CodeStyle $codeStyle }} selected{{ end }}>{{ $codeStyle }}</option>
      {{- end }}
    </select>
  </div>
  <div class='mv3'>
    <div><label for='description' class='b'>Description:</label></div>
    <div data-codemirror>
      <input type='hidden' name='ext:0' value='.md'>
      <textarea id='description' name='description' dir='auto' class='w-100 pa2 min-h5 h6 resize-vertical code' required>{{ $.Description }}</textarea>
    </div>
  </div>
  <div class='mv3'>
    <div class='b'>Navigation Links:</div>
    <div data-navigation-links>
      {{- range $i, $name := $.NavigationLinkNames }}
      <fieldset>
        <legend>item {{ incr $i }}</legend>
        <div class='mv1'>
          <label for='navigationLinkName:{{ $i }}'>
            <span class='b'>Name: </span>
            <input id='navigationLinkName:{{ $i }}' name='navigationLinkName' value='{{ $name }}' class='pv1 ph2 br2 ba'>
          </label>
        </div>
        <div class='mv1'>
          <label for='navigationLinkURL:{{ $i }}'>
            <span class='b'>URL: </span>
            <input id='navigationLinkURL:{{ $i }}' name='navigationLinkURL' value='{{ index $.NavigationLinkURLs $i }}' class='pv1 ph2 br2 ba'>
          </label>
        </div>
      </fieldset>
      {{- end }}
    </div>
    <div class='mt2'>
      <button type='button' data-add-navigation-link>add item</button>
      <button type='button' data-remove-navigation-links>remove item</button>
    </div>
  </div>
  <button type='submit' class='button ba br2 pa2 mv3 w-100'>save</button>
</form>
